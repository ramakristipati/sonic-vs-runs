============================= test session starts ==============================
platform linux -- Python 3.8.10, pytest-6.2.5, py-1.11.0, pluggy-1.3.0 -- /usr/bin/python3.8
cachedir: .pytest_cache
rootdir: /repo/tests, configfile: ../spytest/pytest.ini
plugins: forked-1.6.0, timeout-2.2.0, xdist-2.5.1.dev21+gc43a2d9
gw0 I / gw1 I / gw2 I / gw3 I / gw4 I / gw5 I / gw6 I / gw7 I
[gw0] linux Python 3.8.10 cwd: /repo/tests
[gw1] linux Python 3.8.10 cwd: /repo/tests
[gw2] linux Python 3.8.10 cwd: /repo/tests
[gw3] linux Python 3.8.10 cwd: /repo/tests
[gw4] linux Python 3.8.10 cwd: /repo/tests
[gw5] linux Python 3.8.10 cwd: /repo/tests
[gw6] linux Python 3.8.10 cwd: /repo/tests
[gw7] linux Python 3.8.10 cwd: /repo/tests
[gw3] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw1] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw2] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw0] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw5] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw4] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw6] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]
[gw7] Python 3.8.10 (default, Nov 22 2023, 10:22:35)  -- [GCC 9.4.0]

batch/test_spytest_infra_1.py::test_spytest_infra_first 
[gw2] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_first 
batch/test_spytest_infra_1.py::test_spytest_infra_second 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_first 
batch/test_spytest_infra_1.py::test_spytest_infra_second 
[gw2] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_second 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_second 
switching/test_vlan.py::test_ft_add_unknownvlan_interface 
switching/test_portchannel.py::test_ft_portchannel_with_vlan_variations 
[gw2] PASSED switching/test_vlan.py::test_ft_add_unknownvlan_interface 
switching/test_vlan.py::test_ft_vlan_delete_with_member 
[gw2] PASSED switching/test_vlan.py::test_ft_vlan_delete_with_member 
switching/test_vlan.py::test_ft_vlan_trunk_tagged 
[gw3] PASSED switching/test_portchannel.py::test_ft_portchannel_with_vlan_variations 
switching/test_portchannel.py::test_ft_verify_min_links_functionality_by_flapping_all_member_ports_007 
[gw2] XFAIL switching/test_vlan.py::test_ft_vlan_trunk_tagged 
switching/test_vlan.py::test_ft_vlan_save_config_warm_and_fast_reboot 
[gw3] PASSED switching/test_portchannel.py::test_ft_verify_min_links_functionality_by_flapping_all_member_ports_007 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
system/test_lldp.py::test_ft_lldp_LocManAddrLen 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_LocManAddrLen 
system/test_lldp.py::test_ft_lldp_LocManAddrlfld 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_LocManAddrlfld 
system/test_lldp.py::test_ft_lldp_LocManAddrEntry 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_LocManAddrEntry 
system/test_lldp.py::test_ft_lldp_ConfigManAddrEntry 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_ConfigManAddrEntry 
system/test_lldp.py::test_ft_lldp_lldplocportid 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_lldplocportid 
system/test_lldp.py::test_ft_lldp_lldplocsysname 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_lldplocsysname 
system/test_lldp.py::test_ft_lldp_lldplocsysdesc 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_lldplocsysdesc 
system/test_lldp.py::test_ft_lldp_rem_man_addr_table 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_rem_man_addr_table 
system/test_lldp.py::test_ft_lldp_non_default_config 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_non_default_config 
system/test_lldp.py::test_ft_lldp_docker_restart 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_docker_restart 
system/test_lldp.py::test_lldp_verify_counters 
[gw3] XFAIL system/test_lldp.py::test_lldp_verify_counters 
system/test_lldp.py::test_ft_lldp_with_remote_server 
[gw3] XFAIL system/test_lldp.py::test_ft_lldp_with_remote_server 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
system/test_ssh.py::test_ft_ssh_service_disable 
[gw3] PASSED system/test_ssh.py::test_ft_ssh_service_disable 
system/test_ssh.py::test_ft_ssh_add_user_verify 
[gw3] FAILED system/test_ssh.py::test_ft_ssh_add_user_verify 
system/test_ssh.py::test_ft_verify_logs_at_the_time_of_ssh_login_success 
[gw3] PASSED system/test_ssh.py::test_ft_verify_logs_at_the_time_of_ssh_login_success 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
system/test_interface.py::test_ft_port_fn_verify_shut_noshut 
[gw3] XFAIL system/test_interface.py::test_ft_port_fn_verify_shut_noshut 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw3] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
batch/test_spytest_infra_1.py::test_spytest_infra_first 
[gw7] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_first 
batch/test_spytest_infra_1.py::test_spytest_infra_second 
[gw7] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_second 
system/test_snapshot.py::test_ft_watermark_telemetry_interval 
[gw4] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_first 
batch/test_spytest_infra_1.py::test_spytest_infra_second 
[gw4] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_second 
system/test_ntp.py::test_ft_ntp_disable_enable_with_message_log 
[gw7] PASSED system/test_snapshot.py::test_ft_watermark_telemetry_interval 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw7] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
system/test_snmp.py::test_ft_snmp_sysName 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_sysName 
system/test_snmp.py::test_ft_snmp_test_syUpTime 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_test_syUpTime 
system/test_snmp.py::test_ft_snmp_sysDescr 
[gw4] XFAIL system/test_ntp.py::test_ft_ntp_disable_enable_with_message_log 
system/test_ntp.py::test_ntp_exists_config 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_sysDescr 
system/test_snmp.py::test_ft_snmp_mib_2 
[gw4] PASSED system/test_ntp.py::test_ntp_exists_config 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_mib_2 
system/test_snmp.py::test_ft_snmp_if_mib_all 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_if_mib_all 
system/test_snmp.py::test_ft_snmp_entity_mib_all 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_entity_mib_all 
system/test_snmp.py::test_ft_snmp_dot1q_dot1db_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_dot1q_dot1db_mib 
system/test_snmp.py::test_ft_snmp_root_node_walk 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_root_node_walk 
system/test_snmp.py::test_ft_snmp_ipAddressRowStatus_ipv6 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ipAddressRowStatus_ipv6 
system/test_snmp.py::test_ft_snmp_ipAddressStorageType_ipv6 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ipAddressStorageType_ipv6 
system/test_snmp.py::test_ft_snmp_ipv6_If_Forward_default_HopLimit 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ipv6_If_Forward_default_HopLimit 
system/test_snmp.py::test_ft_snmp_ipv6scope_index_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ipv6scope_index_table 
system/test_snmp.py::test_ft_snmp_ip_forward_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ip_forward_table 
system/test_snmp.py::test_ft_snmp_ifx_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ifx_table 
system/test_snmp.py::test_ft_snmp_ip_System_Stats_Table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ip_System_Stats_Table 
system/test_snmp.py::test_ft_snmp_ip_IfStats_Table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ip_IfStats_Table 
system/test_snmp.py::test_ft_snmp_ip_Address_Table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ip_Address_Table 
system/test_snmp.py::test_ft_snmp_ip_NetToPhysical_Table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ip_NetToPhysical_Table 
system/test_snmp.py::test_ft_snmp_icmp_Msgs 
[gw4] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_icmp_Msgs 
system/test_snmp.py::test_ft_snmp_tcp_mib 
security/test_tacacs.py::test_ft_tacacs_ssh_login_with_tacacs_operations 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_tcp_mib 
system/test_snmp.py::test_ft_snmp_udp_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_udp_mib 
system/test_snmp.py::test_ft_snmp_snmpv2_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_snmpv2_mib 
system/test_snmp.py::test_ft_snmp_host_resource_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_host_resource_mib 
system/test_snmp.py::test_ft_snmp_framework_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_framework_mib 
system/test_snmp.py::test_ft_snmp_mpd_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_mpd_mib 
system/test_snmp.py::test_ft_snmp_target_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_target_mib 
system/test_snmp.py::test_ft_snmp_notification_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_notification_mib 
system/test_snmp.py::test_ft_snmp_user_based_sm_mib 
[gw4] PASSED security/test_tacacs.py::test_ft_tacacs_ssh_login_with_tacacs_operations 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_user_based_sm_mib 
system/test_snmp.py::test_ft_snmp_view_based_acm_mib 
[gw2] XFAIL switching/test_vlan.py::test_ft_vlan_save_config_warm_and_fast_reboot 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_view_based_acm_mib 
system/test_snmp.py::test_ft_snmp_ent_physical_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ent_physical_table 
system/test_snmp.py::test_ft_snmp_dot3_stats_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_dot3_stats_table 
system/test_snmp.py::test_ft_net_snmp_agent_mib 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw7] PASSED system/test_snmp.py::test_ft_net_snmp_agent_mib 
system/test_snmp.py::test_ft_net_snmp_vacm_mib 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw7] PASSED system/test_snmp.py::test_ft_net_snmp_vacm_mib 
system/test_snmp.py::test_ft_snmp_ucd_diskio_mib 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ucd_diskio_mib 
system/test_snmp.py::test_ft_snmp_ucd_la_table 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ucd_la_table 
system/test_snmp.py::test_ft_snmp_ucd_system_stats 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_ucd_system_stats 
system/test_snmp.py::test_ft_snmp_dot1q_tp_fdb_port 
[gw7] XFAIL system/test_snmp.py::test_ft_snmp_dot1q_tp_fdb_port 
system/test_snmp.py::test_ft_snmp_dot1q_tp_fdb_address 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_dot1q_tp_fdb_address 
system/test_snmp.py::test_ft_snmp_coldstart_trap 
[gw7] XFAIL system/test_snmp.py::test_ft_snmp_coldstart_trap 
system/test_snmp.py::test_ft_snmp_docker_restart 
[gw7] PASSED system/test_snmp.py::test_ft_snmp_docker_restart 
[gw4] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 
batch/test_spytest_infra_1.py::test_spytest_infra_last 
[gw2] node down: Not properly terminated

worker gw2 crashed and worker restarting disabled
[gw7] PASSED batch/test_spytest_infra_1.py::test_spytest_infra_last 

=================================== FAILURES ===================================
_________________________ test_ft_ssh_add_user_verify __________________________
[gw3] linux -- Python 3.8.10 /usr/bin/python3.8

    @pytest.mark.acl_test_controlplane
    @pytest.mark.ssh_verify
    @pytest.mark.regression
    @pytest.mark.inventory(feature='Control Plane ACL', release='Buzznik+')
    @pytest.mark.inventory(feature='Regression', release='Arlo+', testcases=['ft_ssh_add_user_verify'])
    @pytest.mark.inventory(testcases=['test_ft_controlplane_acl_service_snmp'])
    @pytest.mark.inventory(testcases=['test_ft_controlplane_acl_service_sshv4'])
    @pytest.mark.inventory(testcases=['test_ft_controlplane_acl_service_sshv6'])
    def test_ft_ssh_add_user_verify():
        """
        Author : Prudvi Mangadu (prudvi.mangadu@broadcom.com)
        """
        user_ssh = 0
        acl_sshv4 = 0
        acl_sshv6 = 0
        acl_snmp = 0
    
        if not snmp_config(config='add'): acl_snmp = + 1
    
        ipaddress = st.fetch_and_get_mgmt_ip(vars.D1, wait_for_ready=1)
        if not ipaddress:
            st.report_env_fail("ip_verification_fail")
    
        snmp_cmd = "snmpget -Oqv -v 2c -c {} {} {}".format(ssh_data.ro_community, ipaddress, ssh_data.oid_sysName)
    
        out = config_nondefault_user()
        if not out: user_ssh = + 1
    
        st.log("connecting to device with username={},password={}".format(ssh_data.usr_default, ssh_data.pwd_final))
        if not st.exec_ssh(vars.D1, ssh_data.usr_default, ssh_data.pwd_final, ssh_data.commands_to_verify):
            st.error('Cannot SSH into Device with default credentials')
            user_ssh = + 1
    
        st.log('connecting to device with username={},password={}'.format(ssh_data.usr_non_default,
                                                                          ssh_data.pwd_non_default))
        if not st.exec_ssh(vars.D1, ssh_data.usr_non_default, ssh_data.pwd_non_default, ssh_data.commands_to_verify):
            st.error('Cannot SSH into Device with non-default credentials')
            user_ssh = + 1
    
>       output = verify_ssh_connection(vars.D2, ssh_data.ipv4_address_D1D2P2, ssh_data.usr_default, ssh_data.pwd_final)

system/test_ssh.py:238: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
system/test_ssh.py:171: in verify_ssh_connection
    output = st.exec_ssh_remote_dut(dut, ip, username, password, cmds)
../spytest/infra.py:488: in exec_ssh_remote_dut
    return getwa().exec_ssh_remote_dut(dut, ipaddress, username, password, command, timeout, **kwargs)
../spytest/framework.py:3924: in exec_ssh_remote_dut
    return self.net.exec_ssh_remote_dut(dut, ipaddress, username, password, command, timeout, **kwargs)
../spytest/net.py:6219: in exec_ssh_remote_dut
    return self.wa.hooks.exec_ssh_remote_dut(devname, ipaddress, username, password, command, timeout, **kwargs)
../apis/common/hooks.py:161: in exec_ssh_remote_dut
    return self._impl(dut).exec_ssh_remote_dut(dut, ipaddress, username, password, command, timeout, **kwargs)
../apis/common/sonic_hooks.py:347: in exec_ssh_remote_dut
    return basic.exec_ssh_remote_dut(dut, ipaddress, username, password, command, timeout, **kwargs)
../apis/system/basic.py:2564: in exec_ssh_remote_dut
    return st.show(dut, exec_command, skip_tmpl=True, **kwargs)
../spytest/infra.py:497: in show
    return getwa().show(dut, cmd, **kwargs)
../spytest/framework.py:3909: in show
    retval = self.net.show(dut, cmd, **kwargs)
../spytest/net.py:5868: in show
    retval = self._show(line, devname, cmd, **kwargs)
../spytest/net.py:5959: in _show
    output = self._send_cmd_opts(devname, cmd, expected_prompt, opts)
../spytest/net.py:6125: in _send_cmd_opts
    output = self._send_command(access, cmd, expected_prompt,
../spytest/net.py:2152: in _send_command
    output = self._check_error(access, cmd, output, skip_error_check, line,
../spytest/net.py:1708: in _check_error
    self._report_cmd_fail(devname, cmd2, line, skip_error_report)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <spytest.net.Net object at 0x7f3427356580>, devname = 'V2'
cmd = "sshpass -p 'YourPaSsWoRd' ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ConnectTimeout=30 admin@2.2.3.1 sudo show vlan config"
line = 2113, skip_error_report = False

    def _report_cmd_fail(self, devname, cmd, line, skip_error_report=False):
        cmd_fail_support = env.get("SPYTEST_CMD_FAIL_RESULT_SUPPORT", "0")
        # 0: disable 1: only in modules 2: session init + modules
        if cmd_fail_support != "0" and not skip_error_report:
            if self.module_start_time or self.tc_start_time or cmd_fail_support != "1":
                self.wa.set_last_report_line(line)
                msg = utils.stack_trace(None, True)
                self.dut_warn(devname, msg)
                self.wa.report_cmd_fail_int(devname, True, "config_cmd_error", cmd)
        msg = "CMDFAIL: {} Ref: {}/{}/{}/{}".format(cmd, cmd_fail_support,
